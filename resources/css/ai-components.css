/*
  This file contains styles specifically for AI-related components.
  It uses Tailwind's @apply directive for consistency with the rest of the application.
*/

@layer components {
    .ai-container { @apply bg-white border-gray-200 text-gray-900 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100 rounded-lg p-6 my-4 shadow-lg; }
    .ai-container-glass { background: var(--glass-bg); border: 1px solid var(--glass-border); -webkit-backdrop-filter: blur(var(--glass-blur)); backdrop-filter: blur(var(--glass-blur)); box-shadow: var(--shadow); }
    .ai-container-gradient { background: linear-gradient(135deg, var(--color-primary-500), var(--color-accent-500)); color: #fff; }
    .ai-container:hover { box-shadow: var(--shadow-xl); transition: box-shadow var(--transition-base), transform var(--transition-base); }
    .ai-container:hover { transform: translateY(-2px); }

    .ai-input-area { @apply w-full bg-gray-900 border border-gray-600 rounded-md shadow-sm text-white focus:ring-purple-500 focus:border-purple-500 transition; }
    .ai-input-area:focus { box-shadow: 0 0 0 4px rgba(var(--color-accent-500-rgb) / 0.2), var(--shadow-glow); }
    .ai-typing-indicator { display: inline-flex; gap: 2px; }
    .ai-typing-indicator span { width: 6px; height: 6px; border-radius: 9999px; background: currentColor; opacity: 0.5; animation: typing-dots 1s infinite; }
    .ai-typing-indicator span:nth-child(2) { animation-delay: 0.15s; }
    .ai-typing-indicator span:nth-child(3) { animation-delay: 0.3s; }

    .ai-suggestion-card { @apply flex items-center p-3 bg-gray-900 border border-gray-700 rounded-md transition-colors hover:bg-gray-700; transition: transform var(--transition-base), box-shadow var(--transition-base); }
    .ai-suggestion-card:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }
    .ai-suggestion-card-glass { background: var(--glass-bg); border: 1px solid var(--glass-border); -webkit-backdrop-filter: blur(var(--glass-blur)); backdrop-filter: blur(var(--glass-blur)); }

    .ai-loading-state .ai-loading-pulse { animation: ai-loading-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }

    @keyframes ai-loading-pulse { 50% { opacity: .5; } }

    .ai-button-primary { @apply inline-flex items-center px-4 py-2 bg-purple-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-purple-700 active:bg-purple-900 focus:outline-none focus:border-purple-900 focus:ring ring-purple-300 disabled:opacity-25 transition ease-in-out duration-150; }
    .ai-button-primary.gradient { background: linear-gradient(135deg, var(--color-primary-500), var(--color-accent-500)); }
    .ai-button-secondary.gradient { background: linear-gradient(135deg, var(--color-neutral-400), var(--color-neutral-600)); }
    .ai-button-loading { position: relative; }
    .ai-button-loading .spinner { @apply absolute left-2; }

    .ai-button-secondary { @apply text-gray-400 hover:text-white transition; }

    .suggestion-selected {
        @apply bg-purple-900/50 border-purple-700;
    }

    .ai-status-thinking {
        @apply text-purple-400; animation: ai-pulse 1.5s ease-in-out infinite;
    }

    .ai-status-error {
        @apply bg-red-900 border border-red-700 text-red-300 px-4 py-3 rounded relative;
    }

    .ai-status-success {
        @apply bg-green-900 border border-green-700 text-green-300 px-4 py-3 rounded relative;
    }
    /* New AI-specific components */
    .ai-thinking-indicator { display: inline-flex; align-items: center; gap: 0.35rem; color: var(--color-accent-500); }
    .ai-response-bubble { @apply p-3 rounded-lg; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); }
    .ai-confidence-meter { @apply w-full h-2 rounded-full bg-gray-700 overflow-hidden; }
    .ai-confidence-meter > span { display: block; height: 100%; width: 0; background: linear-gradient(90deg, var(--color-error-500), var(--color-warning-500), var(--color-success-500)); transition: width var(--transition-slow) ease; }
    .ai-tag { display: inline-flex; align-items: center; gap: 0.25rem; padding: 0.25rem 0.5rem; border-radius: var(--radius-full); background: linear-gradient(135deg, var(--color-primary-500), var(--color-accent-500)); color: #fff; }
    .ai-badge { display: inline-flex; align-items: center; padding: 0.25rem 0.5rem; border-radius: var(--radius-md); box-shadow: var(--shadow-glow); background: rgba(168,85,247,0.15); color: var(--color-accent-500); }

    /* AI Animations */
    @keyframes ai-pulse { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }
    @keyframes ai-glow { 0%, 100% { box-shadow: 0 0 0 rgba(0,0,0,0); } 50% { box-shadow: 0 0 24px rgb(var(--color-accent-500-rgb) / 0.35); } }
    @keyframes typing-dots { 0%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-3px); } }
    @keyframes scan-line { 0% { background-position: -100% 0; } 100% { background-position: 200% 0; } }
}